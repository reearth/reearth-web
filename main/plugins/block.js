const html=`\n<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />\n<script id="l" src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"><\/script>\n<div id="map" style="width: 100%; height: 300px;"></div>\n<script>\n  document.getElementById("l").addEventListener("load", () => {\n    const map = L.map("map").setView([0, 0], 13);\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'\n    }).addTo(map);\n    const marker = L.marker();\n\n    const cb = (block) => {\n      if (block?.property?.location) {\n        const latlng = [block.property.location.lat, block.property.location.lng];\n        map.setView(latlng);\n        marker.setLatLng(latlng).addTo(map);\n      } else {\n        marker.remove();\n      }\n      parent.postMessage("updated", "*");\n    };\n\n    addEventListener("message", e => {\n      if (e.source !== parent) return;\n      cb(e.data);\n    });\n    cb(${JSON.stringify(reearth.block)});\n  });\n<\/script>\n`;reearth.ui.show(html),reearth.on("update",(()=>{reearth.ui.postMessage(reearth.block)})),reearth.on("message",(msg=>{console.log("message received:",msg)}));